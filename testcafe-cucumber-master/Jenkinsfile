pipeline {
  agent any
 
  //tools {nodejs "recent_node"}
 
  stages {  
    stage('Clonning Git') {
        steps {
            git 'https://github.com/ivan-molina/TFM_CUCUMBER.git'
        }
    }
    
    stage('Install dependencies') {
        steps {
            bat 'cd testcafe-cucumber-master'
            bat 'npm install'

        }
    }

    stage('Execute test') {
        steps {
            bat './node_modules/.bin/cucumber-js.cmd'
        }
    }

    stage('Publish reports') {
        steps {
            bat 'dir'
        }
    }    
    
  }
}